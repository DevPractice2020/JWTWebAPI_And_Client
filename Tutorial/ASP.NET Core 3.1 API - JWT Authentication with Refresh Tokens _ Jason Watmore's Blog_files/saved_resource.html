<!DOCTYPE html>
<!-- saved from url=(0520)https://disqus.com/embed/comments/?base=default&f=jasonwatmoresblog&t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&s_o=default#version=c0b6167a99c95e1936041e8b2e6e6f06 -->
<html lang="en" dir="ltr" class="js no-touch localstorage sessionstorage contenteditable use-opacity-transitions"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Disqus Comments</title>

    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <style>
        .alert--warning {
            border-radius: 3px;
            padding: 10px 15px;
            margin-bottom: 10px;
            background-color: #FFE070;
            color: #A47703;
        }

        .alert--warning a,
        .alert--warning a:hover,
        .alert--warning strong {
            color: #A47703;
            font-weight: bold;
        }

        .alert--error p,
        .alert--warning p {
            margin-top: 5px;
            margin-bottom: 5px;
        }
        
        </style>
    
    <style>
        
        html {
            overflow: hidden;
        }
        

        #error {
            display: none;
        }

        .clearfix:after {
            content: "";
            display: block;
            height: 0;
            clear: both;
            visibility: hidden;
        }

        
    </style>

<script src="./cb=gapi.loaded_0" async=""></script><script src="./sdk.js.download" async="" crossorigin="anonymous"></script><script crossorigin="anonymous" id="bootstrap-script" data-app="lounge" src="./lounge.load.c0b6167a99c95e1936041e8b2e6e6f06.js.download"></script><meta http-equiv="Content-Security-Policy" content="script-src https:;"><link rel="stylesheet" href="./lounge.4ccc2ba08c360cad557fd79f7fdaa34f.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="lounge/main" src="./lounge.bundle.1af790aed9f2d4e4d1280d1e4a06f523.js.download"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="remote/config" src="./config.js.download"></script><style id="css_1595043178561"></style><!--<base target="_parent">--><base href="." target="_parent"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="fb" src="./sdk.js(1).download"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="gapi" src="./api.js.download" gapi_processed="true"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#043b87;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}</style><link rel="stylesheet" href="./highlight.3128dd90ecaebd8542ac3442033f3f00.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common/vendor_extensions/highlight" src="./highlight.6fbf348532f299e045c254c49c4dbedf.js.download"></script></head>
<body>
    

    
    <div id="error" class="alert--error">
        <p>We were unable to load Disqus. If you are a moderator please see our <a href="https://docs.disqus.com/help/83/"> troubleshooting guide</a>. </p>
    </div>

    
    <script type="text/json" id="disqus-forumData">{"session":{"canModerate":false,"audienceSyncVerified":false,"mustVerify":false,"canReply":true,"mustVerifyEmail":false},"forum":{"aetBannerConfirmation":null,"founder":"22538438","twitterName":"","commentsLinkOne":"1 Comment","guidelines":null,"favicon":{"permalink":"https://disqus.com/api/forums/favicons/jasonwatmoresblog.jpg","cache":"//a.disquscdn.com/1593550860/images/favicon-default.png"},"commentsLinkZero":"0 Comments","disableDisqusBranding":false,"id":"jasonwatmoresblog","createdAt":"2012-02-17T20:30:35.882085","category":"Tech","aetBannerEnabled":false,"aetBannerTitle":null,"raw_guidelines":null,"colorScheme":"auto","votingType":null,"installCompleted":true,"moderatorBadgeText":"","commentPolicyText":null,"aetEnabled":false,"channel":null,"sort":4,"description":"\u003cp>Web Development Blog\u003c/p>","newPolicy":true,"raw_description":"Web Development Blog","language":"en","adsReviewStatus":1,"pk":"1290967","daysAlive":0,"forumCategory":{"date_added":"2016-01-28T01:54:31","id":8,"name":"Tech"},"permissions":{},"commentPolicyLink":null,"aetBannerDescription":null,"name":"Jason Watmore's Blog","commentsLinkMultiple":"{num} Comments","settings":{"threadRatingsEnabled":false,"adsDRNativeEnabled":false,"behindClickEnabled":false,"disable3rdPartyTrackers":false,"adsVideoEnabled":false,"adsProductVideoEnabled":false,"adsPositionTopEnabled":false,"ssoRequired":false,"unapproveLinks":false,"adsPositionRecommendationsEnabled":false,"linkAffiliationEnabled":false,"adsProductLinksThumbnailsEnabled":false,"hasCustomAvatar":false,"organicDiscoveryEnabled":false,"adsProductDisplayEnabled":false,"adsProductLinksEnabled":false,"threadReactionsEnabled":true,"adsEnabled":false,"disableSocialShare":false,"allowAnonPost":true,"adsProductStoriesEnabled":false,"adultContent":false,"allowAnonVotes":false,"gifPickerEnabled":true,"mustVerify":true,"mustVerifyEmail":true,"audienceSyncEnabled":false,"mediaembedEnabled":true,"adsPositionBottomEnabled":false,"discoveryLocked":false,"validateAllPosts":true,"adsSettingsLocked":false,"isVIP":false,"adsPositionInthreadEnabled":false},"organizationId":970316,"typeface":"auto","url":"http://jasonwatmore.com/","daysThreadAlive":0,"avatar":{"small":{"permalink":"https://disqus.com/api/forums/avatars/jasonwatmoresblog.jpg?size=32","cache":"//a.disquscdn.com/1593550860/images/noavatar32.png"},"large":{"permalink":"https://disqus.com/api/forums/avatars/jasonwatmoresblog.jpg?size=92","cache":"//a.disquscdn.com/1593550860/images/noavatar92.png"}},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fjasonwatmore.com%2F&key=38RZWf11yJ4NqbwCATlGMg"}}</script>

    <script type="text/json" id="disqus-threadData">{"cursor":{"hasPrev":false,"prev":null,"total":14,"hasNext":false,"next":"1:0:0"},"code":0,"response":{"lastModified":1594906764,"posts":[{"editableUntil":"2020-06-21T14:22:56","dislikes":0,"thread":"8042160079","numReports":0,"likes":1,"message":"\u003cp>Great tutorial! Thank you a lot!\u003cbr>I've adapted your Angular solution for Vue.js and it works perfectly.\u003cbr>However I have a question about storing refresh tokens.\u003cbr>Refresh tokens are being added frequently and I fear that after some time in an application with many users there will be thousands of records in DB. Is it a good practice to clear them out when they are expired or revoked?\u003c/p>","id":"4953745735","createdAt":"2020-06-14T14:22:56","author":{"username":"disqus_v5enrhDF6Y","about":"","name":"\u0412\u044f\u0447\u0435\u0441\u043b\u0430\u0432 \u041a\u043e\u043a\u043e\u0448\u043a\u043e","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2013-06-07T05:21:28","profileUrl":"https://disqus.com/by/disqus_v5enrhDF6Y/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"55207387","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_v5enrhDF6Y.jpg","cache":"https://c.disquscdn.com/uploads/users/5520/7387/avatar32.jpg?1467374117"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/disqus_v5enrhDF6Y.jpg","cache":"https://c.disquscdn.com/uploads/users/5520/7387/avatar92.jpg?1467374117","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_v5enrhDF6Y.jpg","cache":"https://c.disquscdn.com/uploads/users/5520/7387/avatar92.jpg?1467374117"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Great tutorial! Thank you a lot!\nI've adapted your Angular solution for Vue.js and it works perfectly.\nHowever I have a question about storing refresh tokens.\nRefresh tokens are being added frequently and I fear that after some time in an application with many users there will be thousands of records in DB. Is it a good practice to clear them out when they are expired or revoked?","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":0,"points":1,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2020-06-23T08:53:46","dislikes":0,"thread":"8042160079","numReports":0,"likes":1,"message":"\u003cp>Thanks \u003ca data-dsq-mention=\"disqus_v5enrhdf6y:disqus\" href=\"https://disqus.com/by/disqus_v5enrhDF6Y/\" rel=\"nofollow noopener\" title=\"https://disqus.com/by/disqus_v5enrhDF6Y/\">\u0412\u044f\u0447\u0435\u0441\u043b\u0430\u0432 \u041a\u043e\u043a\u043e\u0448\u043a\u043e\u003c/a>\u003c/p>\u003cp>The refresh tokens are kept for historical and auditing purposes, so depending on your requirements you could keep them indefinitely, clear them out periodically or delete them as soon as they are revoked.\u003c/p>\u003cp>Regarding the row count in the refresh tokens table, I don't think it would be an issue for the DB server as I'm pretty sure any production level DB (SQL Server, Oracle, MySql etc) can handle many millions of records without a problem. So again it depends on the requirements, DB storage capacity &amp; cost for your project.\u003c/p>\u003cp>Hope this helps!\u003c/p>","id":"4956005305","createdAt":"2020-06-16T08:53:46","author":{"username":"cornflourblue","about":"I'm a Web Developer in Sydney Australia","name":"Jason Watmore","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2012-02-18T01:30:35","profileUrl":"https://disqus.com/by/cornflourblue/","url":"https://jasonwatmore.com","location":"Sydney Australia","isPrivate":false,"signedUrl":"https://disq.us/?url=https%3A%2F%2Fjasonwatmore.com&key=LeBEAhDgDeyViPY41IqTng","isPrimary":true,"isAnonymous":false,"id":"22538438","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/cornflourblue.jpg","cache":"https://c.disquscdn.com/uploads/users/2253/8438/avatar32.jpg?1457308365"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/cornflourblue.jpg","cache":"https://c.disquscdn.com/uploads/users/2253/8438/avatar92.jpg?1457308365","large":{"permalink":"https://disqus.com/api/users/avatars/cornflourblue.jpg","cache":"https://c.disquscdn.com/uploads/users/2253/8438/avatar92.jpg?1457308365"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4953745735,"isApproved":true,"isFlagged":false,"raw_message":"Thanks @disqus_v5enrhDF6Y:disqus \n\nThe refresh tokens are kept for historical and auditing purposes, so depending on your requirements you could keep them indefinitely, clear them out periodically or delete them as soon as they are revoked.\n\nRegarding the row count in the refresh tokens table, I don't think it would be an issue for the DB server as I'm pretty sure any production level DB (SQL Server, Oracle, MySql etc) can handle many millions of records without a problem. So again it depends on the requirements, DB storage capacity & cost for your project.\n\nHope this helps!","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":1,"points":1,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2020-06-23T13:09:25","dislikes":0,"thread":"8042160079","numReports":0,"likes":1,"message":"\u003cp>Thank you, Jason. Everything is clear now.\u003cbr>You're doing a great job with your articles.\u003cbr>I wish you all the best!\u003c/p>","id":"4956188971","createdAt":"2020-06-16T13:09:25","author":{"username":"disqus_v5enrhDF6Y","about":"","name":"\u0412\u044f\u0447\u0435\u0441\u043b\u0430\u0432 \u041a\u043e\u043a\u043e\u0448\u043a\u043e","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2013-06-07T05:21:28","profileUrl":"https://disqus.com/by/disqus_v5enrhDF6Y/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"55207387","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_v5enrhDF6Y.jpg","cache":"https://c.disquscdn.com/uploads/users/5520/7387/avatar32.jpg?1467374117"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/disqus_v5enrhDF6Y.jpg","cache":"https://c.disquscdn.com/uploads/users/5520/7387/avatar92.jpg?1467374117","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_v5enrhDF6Y.jpg","cache":"https://c.disquscdn.com/uploads/users/5520/7387/avatar92.jpg?1467374117"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4956005305,"isApproved":true,"isFlagged":false,"raw_message":"Thank you, Jason. Everything is clear now.\nYou're doing a great job with your articles.\nI wish you all the best!","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":2,"points":1,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2020-07-22T13:13:33","dislikes":0,"thread":"8042160079","numReports":0,"likes":0,"message":"\u003cp>Nice article, however; when i implement your code i get \"Signature Verified\" at \u003ca href=\"https://disq.us/url?url=https%3A%2F%2Fjwt.io%2F%3Abbkc5iggL0b2wFuX8O1nfMSDHvY&amp;cuid=1290967\" rel=\"nofollow noopener\" title=\"https://jwt.io/\">https://jwt.io/\u003c/a> no matter what signature i type on the website (even blank!) -- what does that mean? did i implmenet this wrong?\u003c/p>\u003cp>Best regards\u003c/p>","id":"4992727623","createdAt":"2020-07-15T13:13:33","author":{"name":"V1","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1593550860/images/noavatar32.png","cache":"//a.disquscdn.com/1593550860/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1593550860/images/noavatar92.png","cache":"//a.disquscdn.com/1593550860/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1593550860/images/noavatar92.png","cache":"//a.disquscdn.com/1593550860/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Nice article, however; when i implement your code i get \"Signature Verified\" at https://jwt.io/ no matter what signature i type on the website (even blank!) -- what does that mean? did i implmenet this wrong?\n\nBest regards","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":0,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"editableUntil":"2020-07-13T15:31:50","dislikes":0,"thread":"8042160079","numReports":0,"likes":0,"message":"\u003cp>I understand that you save the refresh token in cookie for the sake of security. However, you might should try to embed the refresh token together with the claims in the JWT token.\u003c/p>","id":"4981555576","createdAt":"2020-07-06T15:31:50","author":{"name":"hi","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1593550860/images/noavatar32.png","cache":"//a.disquscdn.com/1593550860/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1593550860/images/noavatar92.png","cache":"//a.disquscdn.com/1593550860/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1593550860/images/noavatar92.png","cache":"//a.disquscdn.com/1593550860/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"I understand that you save the refresh token in cookie for the sake of security. However, you might should try to embed the refresh token together with the claims in the JWT token.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2020-07-06T23:39:52","dislikes":0,"thread":"8042160079","numReports":0,"likes":0,"message":"\u003cp>Excellent article, few are so well explained like this. \u003cbr>I have a question related to the refresh tokens storage. I see that they are stored as a property of users, Entity Framework most likely would crate a new child table called RefreshTokens. Anyone with access to the database could read these and call the service RefreshToken receiving a new refresh token; the only requirement is the former refresh token to get the new one, resulting in transferring the power to who knows who and full access to operate in the name of the referenced user. It feels like storing hard-coded passwords, which is discouraged. EF saves Password Hashes and Security Stamp instead. Notice that the normal token (not the refresh token) is very short living and still managed in a (allegedly) secure way by JwtSecurityTokenHandler class and native functions, using sophisticated ways to protect the generation and encryption, like SecurityTokenDescriptor. But the RefreshToken, which lives longer and transfer the full power to the bearer calling, seems to be much more exposed. Even a bug in the code could deliver this token inadverently, although it has the JsonIgnore attribute, it does not prevent from other mistakes like copying between models to entities or so. Isn't there a way to implement the RefreshToken persistence using the same JwtSecurityTokenHandler class or alike? Thanks for commenting.\u003c/p>","id":"4973468975","createdAt":"2020-06-29T23:39:52","author":{"username":"disqus_EHt27fRoK6","about":"","name":"Lorenzo","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2020-06-29T23:06:50","profileUrl":"https://disqus.com/by/disqus_EHt27fRoK6/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"352242246","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_EHt27fRoK6.jpg","cache":"//a.disquscdn.com/1593550860/images/noavatar32.png"},"isCustom":false,"permalink":"https://disqus.com/api/users/avatars/disqus_EHt27fRoK6.jpg","cache":"//a.disquscdn.com/1593550860/images/noavatar92.png","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_EHt27fRoK6.jpg","cache":"//a.disquscdn.com/1593550860/images/noavatar92.png"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Excellent article, few are so well explained like this. \nI have a question related to the refresh tokens storage. I see that they are stored as a property of users, Entity Framework most likely would crate a new child table called RefreshTokens. Anyone with access to the database could read these and call the service RefreshToken receiving a new refresh token; the only requirement is the former refresh token to get the new one, resulting in transferring the power to who knows who and full access to operate in the name of the referenced user. It feels like storing hard-coded passwords, which is discouraged. EF saves Password Hashes and Security Stamp instead. Notice that the normal token (not the refresh token) is very short living and still managed in a (allegedly) secure way by JwtSecurityTokenHandler class and native functions, using sophisticated ways to protect the generation and encryption, like SecurityTokenDescriptor. But the RefreshToken, which lives longer and transfer the full power to the bearer calling, seems to be much more exposed. Even a bug in the code could deliver this token inadverently, although it has the JsonIgnore attribute, it does not prevent from other mistakes like copying between models to entities or so. Isn't there a way to implement the RefreshToken persistence using the same JwtSecurityTokenHandler class or alike? Thanks for commenting.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2020-07-04T21:24:09","dislikes":0,"thread":"8042160079","numReports":0,"likes":0,"message":"\u003cp>Great article.. Very good, thank your for sharing\u003c/p>\u003cp>if you use with SQLITE you probably need to add this on DataContext.cs (I did)\u003c/p>\u003cp>\u003ccode>       \u003cbr>\u003cbr>       public DbSet&lt;user&gt; Users { get; set; }\u003cbr>        protected override void OnModelCreating(ModelBuilder modelBuilder)\u003cbr>        {\u003cbr>           modelBuilder.Entity&lt;user&gt;().OwnsMany(p =&gt; p.RefreshTokens, a =&gt;\u003cbr>                {\u003cbr>                    a.WithOwner().HasForeignKey(\"UserId\");\u003cbr>                    a.Property&lt;int&gt;(\"Id\");\u003cbr>                    a.HasKey(\"Id\");\u003cbr>                });\u003cbr>        }\u003cbr>\u003cbr>\u003c/code>\u003c/p>","id":"4970939438","createdAt":"2020-06-27T21:24:09","author":{"username":"danieldaey","about":"","name":"Daniel Daey","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2020-06-26T14:36:12","profileUrl":"https://disqus.com/by/danieldaey/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"352056439","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/danieldaey.jpg","cache":"https://c.disquscdn.com/uploads/users/35205/6439/avatar32.jpg?1593426137"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/danieldaey.jpg","cache":"https://c.disquscdn.com/uploads/users/35205/6439/avatar92.jpg?1593426137","large":{"permalink":"https://disqus.com/api/users/avatars/danieldaey.jpg","cache":"https://c.disquscdn.com/uploads/users/35205/6439/avatar92.jpg?1593426137"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Great article.. Very good, thank your for sharing\n\nif you use with SQLITE you probably need to add this on DataContext.cs (I did)\n\n\u003ccode>       \n\n       public DbSet\u003cUser> Users { get; set; }\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n           modelBuilder.Entity\u003cUser>().OwnsMany(p => p.RefreshTokens, a =>\n                {\n                    a.WithOwner().HasForeignKey(\"UserId\");\n                    a.Property\u003cint>(\"Id\");\n                    a.HasKey(\"Id\");\n                });\n        }\n\n\u003c/code>","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2020-07-06T01:18:54","dislikes":0,"thread":"8042160079","numReports":0,"likes":0,"message":"\u003cp>Hi Daniel, that's funny I just ran into the same issue a few days ago working on another example that uses SQLite, it looks like EF Core creates a composite primary key in the database for \"Owned\" entity types which can cause errors with auto generated id fields.\u003c/p>\u003cp>It turns out there are a couple of ways to fix it, either with the fluent api as you've shown, or by using attributes on the entity like this:\u003c/p>\u003cp>\u003c/p>\u003cpre>\u003ccode>[Owned]\u003cbr>public class RefreshToken\u003cbr>{\u003cbr>    [Key]\u003cbr>    public int Id { get; set; }\u003cbr>    ...\u003cbr>}\u003c/code>\u003c/pre>\u003cp>\u003c/p>\u003cp>I ended up going with attributes just because it required a bit less code. I've just updated the example and github repo so it should be compatible with SQLite now.\u003c/p>\u003cp>Cheers,\u003cbr>Jason\u003c/p>","id":"4972264745","createdAt":"2020-06-29T01:18:54","author":{"username":"cornflourblue","about":"I'm a Web Developer in Sydney Australia","name":"Jason Watmore","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2012-02-18T01:30:35","profileUrl":"https://disqus.com/by/cornflourblue/","url":"https://jasonwatmore.com","location":"Sydney Australia","isPrivate":false,"signedUrl":"https://disq.us/?url=https%3A%2F%2Fjasonwatmore.com&key=LeBEAhDgDeyViPY41IqTng","isPrimary":true,"isAnonymous":false,"id":"22538438","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/cornflourblue.jpg","cache":"https://c.disquscdn.com/uploads/users/2253/8438/avatar32.jpg?1457308365"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/cornflourblue.jpg","cache":"https://c.disquscdn.com/uploads/users/2253/8438/avatar92.jpg?1457308365","large":{"permalink":"https://disqus.com/api/users/avatars/cornflourblue.jpg","cache":"https://c.disquscdn.com/uploads/users/2253/8438/avatar92.jpg?1457308365"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4970939438,"isApproved":true,"isFlagged":false,"raw_message":"Hi Daniel, that's funny I just ran into the same issue a few days ago working on another example that uses SQLite, it looks like EF Core creates a composite primary key in the database for \"Owned\" entity types which can cause errors with auto generated id fields.\n\nIt turns out there are a couple of ways to fix it, either with the fluent api as you've shown, or by using attributes on the entity like this:\n\n\u003cpre>\u003ccode>[Owned]\npublic class RefreshToken\n{\n    [Key]\n    public int Id { get; set; }\n    ...\n}\u003c/code>\u003c/pre>\n\nI ended up going with attributes just because it required a bit less code. I've just updated the example and github repo so it should be compatible with SQLite now.\n\nCheers,\nJason","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":1,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2020-07-06T10:22:15","dislikes":0,"thread":"8042160079","numReports":0,"likes":1,"message":"\u003cp>Great Jason.. i was unable to use [Key] attribute (that was my first attempt to). \u003cbr>It seems the autoincrement didnt work in my case..  NULL on Id everytime a token was generated .. I will double check with your github\u003c/p>","id":"4972576352","createdAt":"2020-06-29T10:22:15","author":{"username":"danieldaey","about":"","name":"Daniel Daey","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2020-06-26T14:36:12","profileUrl":"https://disqus.com/by/danieldaey/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"352056439","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/danieldaey.jpg","cache":"https://c.disquscdn.com/uploads/users/35205/6439/avatar32.jpg?1593426137"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/danieldaey.jpg","cache":"https://c.disquscdn.com/uploads/users/35205/6439/avatar92.jpg?1593426137","large":{"permalink":"https://disqus.com/api/users/avatars/danieldaey.jpg","cache":"https://c.disquscdn.com/uploads/users/35205/6439/avatar92.jpg?1593426137"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4972264745,"isApproved":true,"isFlagged":false,"raw_message":"Great Jason.. i was unable to use [Key] attribute (that was my first attempt to). \nIt seems the autoincrement didnt work in my case..  NULL on Id everytime a token was generated .. I will double check with your github","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":2,"points":1,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2020-06-27T17:57:19","dislikes":0,"thread":"8042160079","numReports":0,"likes":0,"message":"\u003cp>Hello \u003ca data-dsq-mention=\"cornflourblue:disqus\" href=\"https://disqus.com/by/cornflourblue/\" rel=\"nofollow noopener\" title=\"https://disqus.com/by/cornflourblue/\">Jason Watmore\u003c/a> , could you enlighten me in case of real life what would the methods: \"revoke-token\" and \"refresh-token\" be used for? Thanks in advance.\u003c/p>\u003cp>Regards.\u003c/p>","id":"4961687795","createdAt":"2020-06-20T17:57:19","author":{"username":"Robinskin","about":"","name":"Robinskin Encarnacion","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2020-06-20T17:49:16","profileUrl":"https://disqus.com/by/Robinskin/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"351698885","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/Robinskin.jpg","cache":"https://c.disquscdn.com/uploads/users/35169/8885/avatar32.jpg?1594992140"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/Robinskin.jpg","cache":"https://c.disquscdn.com/uploads/users/35169/8885/avatar92.jpg?1594992140","large":{"permalink":"https://disqus.com/api/users/avatars/Robinskin.jpg","cache":"https://c.disquscdn.com/uploads/users/35169/8885/avatar92.jpg?1594992140"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Hello @cornflourblue:disqus , could you enlighten me in case of real life what would the methods: \"revoke-token\" and \"refresh-token\" be used for? Thanks in advance.\n\nRegards.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2020-06-30T08:29:48","dislikes":0,"thread":"8042160079","numReports":0,"likes":1,"message":"\u003cp>Hi Robinskin, each JWT is short-lived (15 minutes in the example) for increased security in case a token is compromised because JWTs are self contained and can access the API as long as they are valid and not expired.\u003c/p>\u003cp>A refresh token is used to get a new JWT token (a.k.a. 'refresh' the JWT) when it expires, this is handled automatically by front-end applications to keep the user logged in.\u003c/p>\u003cp>When a refresh token is revoked it can no longer be used to get new JWT tokens, effectively logging the user out (once the last JWT expires).\u003c/p>\u003cp>Cheers,\u003cbr>Jason\u003c/p>","id":"4964837347","createdAt":"2020-06-23T08:29:48","author":{"username":"cornflourblue","about":"I'm a Web Developer in Sydney Australia","name":"Jason Watmore","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2012-02-18T01:30:35","profileUrl":"https://disqus.com/by/cornflourblue/","url":"https://jasonwatmore.com","location":"Sydney Australia","isPrivate":false,"signedUrl":"https://disq.us/?url=https%3A%2F%2Fjasonwatmore.com&key=LeBEAhDgDeyViPY41IqTng","isPrimary":true,"isAnonymous":false,"id":"22538438","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/cornflourblue.jpg","cache":"https://c.disquscdn.com/uploads/users/2253/8438/avatar32.jpg?1457308365"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/cornflourblue.jpg","cache":"https://c.disquscdn.com/uploads/users/2253/8438/avatar92.jpg?1457308365","large":{"permalink":"https://disqus.com/api/users/avatars/cornflourblue.jpg","cache":"https://c.disquscdn.com/uploads/users/2253/8438/avatar92.jpg?1457308365"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4961687795,"isApproved":true,"isFlagged":false,"raw_message":"Hi Robinskin, each JWT is short-lived (15 minutes in the example) for increased security in case a token is compromised because JWTs are self contained and can access the API as long as they are valid and not expired.\n\nA refresh token is used to get a new JWT token (a.k.a. 'refresh' the JWT) when it expires, this is handled automatically by front-end applications to keep the user logged in.\n\nWhen a refresh token is revoked it can no longer be used to get new JWT tokens, effectively logging the user out (once the last JWT expires).\n\nCheers,\nJason","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":1,"points":1,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2020-06-30T11:15:16","dislikes":0,"thread":"8042160079","numReports":0,"likes":0,"message":"\u003cp>Thanks, then it means that when the update token expires, in this case 7 days according to the example, the update token is automatically revoked?\u003c/p>","id":"4964936417","createdAt":"2020-06-23T11:15:16","author":{"username":"Robinskin","about":"","name":"Robinskin Encarnacion","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2020-06-20T17:49:16","profileUrl":"https://disqus.com/by/Robinskin/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"351698885","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/Robinskin.jpg","cache":"https://c.disquscdn.com/uploads/users/35169/8885/avatar32.jpg?1594992140"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/Robinskin.jpg","cache":"https://c.disquscdn.com/uploads/users/35169/8885/avatar92.jpg?1594992140","large":{"permalink":"https://disqus.com/api/users/avatars/Robinskin.jpg","cache":"https://c.disquscdn.com/uploads/users/35169/8885/avatar92.jpg?1594992140"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4964837347,"isApproved":true,"isFlagged":false,"raw_message":"Thanks, then it means that when the update token expires, in this case 7 days according to the example, the update token is automatically revoked?","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":2,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2020-07-01T01:27:25","dislikes":0,"thread":"8042160079","numReports":0,"likes":1,"message":"\u003cp>No worries, yep that's right the refresh token in the example expires after 7 days, it can obviously be adjusted to suit your requirements though.\u003c/p>","id":"4965919594","createdAt":"2020-06-24T01:27:25","author":{"username":"cornflourblue","about":"I'm a Web Developer in Sydney Australia","name":"Jason Watmore","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2012-02-18T01:30:35","profileUrl":"https://disqus.com/by/cornflourblue/","url":"https://jasonwatmore.com","location":"Sydney Australia","isPrivate":false,"signedUrl":"https://disq.us/?url=https%3A%2F%2Fjasonwatmore.com&key=LeBEAhDgDeyViPY41IqTng","isPrimary":true,"isAnonymous":false,"id":"22538438","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/cornflourblue.jpg","cache":"https://c.disquscdn.com/uploads/users/2253/8438/avatar32.jpg?1457308365"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/cornflourblue.jpg","cache":"https://c.disquscdn.com/uploads/users/2253/8438/avatar92.jpg?1457308365","large":{"permalink":"https://disqus.com/api/users/avatars/cornflourblue.jpg","cache":"https://c.disquscdn.com/uploads/users/2253/8438/avatar92.jpg?1457308365"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4964936417,"isApproved":true,"isFlagged":false,"raw_message":"No worries, yep that's right the refresh token in the example expires after 7 days, it can obviously be adjusted to suit your requirements though.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":3,"points":1,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2020-06-02T22:40:42","dislikes":0,"thread":"8042160079","numReports":0,"likes":0,"message":"\u003cp>I want to implement a role based jwt, where admins can only be created via UI of the application, external REST call with admin credentials can create basic level users and admin and basic users can performs some CRUD operations. Can you please guide me on how can I apply this principle to my problem?\u003c/p>","id":"4928723969","createdAt":"2020-05-26T22:40:42","author":{"username":"insomniacRealist","about":"","name":"Insomniac Realist","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2013-09-05T01:14:16","profileUrl":"https://disqus.com/by/insomniacRealist/","url":"","location":"","isPrivate":true,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"71518676","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/insomniacRealist.jpg","cache":"//a.disquscdn.com/1593550860/images/noavatar32.png"},"isCustom":false,"permalink":"https://disqus.com/api/users/avatars/insomniacRealist.jpg","cache":"//a.disquscdn.com/1593550860/images/noavatar92.png","large":{"permalink":"https://disqus.com/api/users/avatars/insomniacRealist.jpg","cache":"//a.disquscdn.com/1593550860/images/noavatar92.png"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"I want to implement a role based jwt, where admins can only be created via UI of the application, external REST call with admin credentials can create basic level users and admin and basic users can performs some CRUD operations. Can you please guide me on how can I apply this principle to my problem?","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jasonwatmoresblog","depth":0,"points":0,"moderationLabels":[],"isEdited":true,"sb":false}],"thread":{"feed":"https://jasonwatmoresblog.disqus.com/aspnet_core_31_api_jwt_authentication_with_refresh_tokens_jason_watmores_blog_71/latest.rss","clean_title":"ASP.NET Core 3.1 API - JWT Authentication with Refresh Tokens","dislikes":0,"likes":2,"message":"","ratingsEnabled":false,"isSpam":false,"isDeleted":false,"category":"1316410","adsDisabled":false,"author":"22538438","id":"8042160079","signedLink":"http://disq.us/?url=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&key=jIK4lq73c71B-Eykb6gexA","createdAt":"2020-05-25T09:30:35","hasStreaming":false,"raw_message":"","isClosed":false,"link":"http://jasonwatmore.com/post.aspx?id=5ecb9023fceb9316d27ad8f6","slug":"aspnet_core_31_api_jwt_authentication_with_refresh_tokens_jason_watmores_blog_71","forum":"jasonwatmoresblog","identifiers":[],"posts":14,"moderators":[22538438],"validateAllPosts":false,"title":"ASP.NET Core 3.1 API - JWT Authentication with Refresh Tokens | Jason Watmore's Blog","highlightedPost":null}},"order":"popular"}</script>


    <div id="fixed-content"></div>


    
        
            
<script type="text/json" id="disqus-urls">{
    "root":"//disqus.com",
    "next":"https://c.disquscdn.com/next/current/embed"
}</script>

        
        
        <script>!function () {
            var d = document;
            var toH = d.head.appendChild.bind(d.head);

            var v = window.location.href.match(/[#&?]version=([0-9a-f]{32})/);
            var src = 'https://c.disquscdn.com/next/embed/lounge.load';
            if (v)
                src += '.' + v[1];
            src += '.js';

            var s = d.createElement('script');
            s.crossOrigin = 'anonymous';
            s.id = 'bootstrap-script';
            s.setAttribute('data-app', 'lounge');
            s.src = src;
            toH(s);

            var m = d.createElement('meta');
            m.setAttribute('http-equiv', 'Content-Security-Policy');
            m.setAttribute('content', "script-src https:;");
            toH(m);
        }();</script>
    


<script src="./common.bundle.5439bce5811a3908f603eb4fa66869dd.js.download"></script><div id="layout" data-tracking-area="layout"><div id="thread__container"><div><div id="thread__wrapper"><div id="placement-top" data-tracking-area="discovery-north"></div><div id="lightbox__container"></div><div id="onboard" data-tracking-area="onboard"><div></div></div><div id="reactions__container"><div><div id="reactions"><div class="text-bold align align--center">What do you think?</div><div class="spacing-top-small align align--center">13 Responses</div><div class="reaction-items"><span class="spinner"></span><div class="align align--center align--wrap"><div class="reaction-item align align--column align--middle reaction-item__enabled"><div class="align align--middle reaction-item__button"><img src="./upvote-512x512.png"><div class="reaction-item__text">Upvote</div></div><div>&nbsp;</div></div><div class="reaction-item align align--column align--middle reaction-item__enabled"><div class="align align--middle reaction-item__button"><img src="./funny-512x512.png"><div class="reaction-item__text">Funny</div></div><div>&nbsp;</div></div><div class="reaction-item align align--column align--middle reaction-item__enabled"><div class="align align--middle reaction-item__button"><img src="./love-512x512.png"><div class="reaction-item__text">Love</div></div><div>&nbsp;</div></div><div class="reaction-item align align--column align--middle reaction-item__enabled"><div class="align align--middle reaction-item__button"><img src="./surprised-512x512.png"><div class="reaction-item__text">Surprised</div></div><div>&nbsp;</div></div><div class="reaction-item align align--column align--middle reaction-item__enabled"><div class="align align--middle reaction-item__button"><img src="./angry-512x512.png"><div class="reaction-item__text">Angry</div></div><div>&nbsp;</div></div><div class="reaction-item align align--column align--middle reaction-item__enabled"><div class="align align--middle reaction-item__button"><img src="./sad-512x512.png"><div class="reaction-item__text">Sad</div></div><div>&nbsp;</div></div></div></div><div class="err text-semibold"></div></div></div></div><div id="ratings__container"></div><div id="highlighted-post" data-tracking-area="highlighted" class="highlighted-post" style="display: none;"></div><div id="global-alert"></div><div id="tos__container"></div><header id="main-nav" data-tracking-area="main-nav"><nav class="nav nav-primary"><ul><li class="nav-tab nav-tab--primary tab-conversation active" data-role="post-count"><a class="publisher-nav-color"><span class="comment-count">14 comments</span><span class="comment-count-placeholder">Comments</span></a></li><li class="nav-tab nav-tab--primary tab-general"><a href="https://disqus.com/home/forums/jasonwatmoresblog/" class="publisher-nav-color" data-action="community-sidebar" data-forum="jasonwatmoresblog" id="community-tab" name="Jason Watmore&#39;s Blog"><span class="community-name"><strong>Jason Watmore's Blog</strong></span><strong class="community-name-placeholder">Community</strong></a></li><li class="nav-tab nav-tab--primary tab-general"><a href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy" rel="nofollow noopener noreferrer" target="_blank" class="publisher-nav-color privacy-policy" title="Disqus&#39; Privacy Policy"><i aria-hidden="true" class="icon icon-lock"></i><span class="clip privacy-policy-full hidden-md">&nbsp;Disqus' Privacy Policy</span><span class="clip privacy-policy-short">&nbsp;Privacy Policy</span></a></li><li class="nav-tab nav-tab--primary dropdown user-menu" data-role="logout"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="dropdown-toggle" data-toggle="dropdown" role="menuitem" name="Login"><span class="dropdown-toggle-wrapper"><span>Login</span> </span> <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="auth:disqus">Disqus</a></li><li><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="auth:facebook">Facebook</a></li><li><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="auth:twitter">Twitter</a></li><li><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="auth:google">Google</a></li></ul></li><li class="nav-tab nav-tab--primary notification-menu unread" data-role="notification-menu" style="display: list-item;"><a href="https://disqus.com/home/inbox/" class="notification-container" data-action="home" data-home-path="home/inbox/"><span class="notification-icon icon-comment" aria-hidden="true"></span><span class="notification-count" data-role="notification-count">1</span></a></li></ul></nav></header><section id="conversation" data-role="main" data-tracking-area="main"><div class="nav nav-secondary" data-tracking-area="secondary-nav"><ul><li id="recommend-button" class="nav-tab nav-tab--secondary recommend dropdown"><div class="thread-likes"><div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="recommend" title="Recommend this discussion" class="dropdown-toggle "><span class="label label-default"><span class="recommend-icon icon-heart-empty"></span> Recommend</span><span class="label label-recommended"><span class="recommend-icon icon-heart"></span> Recommended</span> <span class="label label-count">2</span></a><ul class="dropdown-menu dropdown-menu--coachmark"><li><div><h2 class="coachmark__heading">Discussion Recommended!</h2><p class="coachmark__description">Recommending means this is a discussion worth sharing. It gets shared to your followers' Disqus feeds, and gives the creator kudos!</p></div> <a href="https://disqus.com/home/?utm_source=disqus_embed&amp;utm_content=recommend_btn" class="btn btn-primary coachmark__button" target="_blank">Find More Discussions</a></li></ul></div></div></li><li id="thread-share-bar" class="nav-tab nav-tab--secondary share-bar hidden-sm"><div class="thread-share-bar-buttons"><span class="thread-share__button share-twitter" data-action="share:twitter" tabindex="0"><span class="icon-twitter"></span><span class="share-text">Tweet</span></span><span class="thread-share__button share-facebook" data-action="share:facebook" tabindex="0"><span class="icon-facebook"></span><span class="share-text">Share</span></span></div></li><li data-role="post-sort" class="nav-tab nav-tab--secondary dropdown sorting pull-right"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="dropdown-toggle" data-toggle="dropdown">Sort by Best<span class="caret"></span></a><ul class="dropdown-menu pull-right"><li class="selected"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="sort" data-sort="popular">Best<i aria-hidden="true" class="icon-checkmark"></i></a></li><li class=""><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="sort" data-sort="desc">Newest<i aria-hidden="true" class="icon-checkmark"></i></a></li><li class=""><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="sort" data-sort="asc">Oldest<i aria-hidden="true" class="icon-checkmark"></i></a></li></ul></li></ul></div><div id="posts"><div id="form" class="textarea-outer-wrapper--top-level"><form class="reply"><div class="postbox"><div role="alert"></div><div class="ratings-wrapper" data-role="ratings-container"></div><div class="compose-wrapper"><div class="avatar"><span class="user"><img data-role="user-avatar" src="./noavatar92.png" alt="Avatar"></span></div><div class="textarea-outer-wrapper"><div class="textarea-wrapper" data-role="textarea" dir="auto"><div><span class="placeholder">Join the discussion…</span><div class="textarea" tabindex="0" role="textbox" aria-multiline="true" contenteditable="PLAINTEXT-ONLY" data-role="editable" aria-label="Join the discussion…" style="overflow: auto; overflow-wrap: break-word; max-height: 350px;"><p><br></p></div><div style="display: none;"><ul class="user-mention__list" id="user-mention-list"><li class="header user-mention__header"><h5>in this conversation</h5></li></ul></div></div><div data-role="drag-drop-placeholder" class="media-drag-hover" style="display: none;"><div class="drag-text">⬇ Drag and drop your images here to upload them.</div></div><div class="media-preview empty" data-role="media-preview"><ul data-role="media-progress-list"></ul>
<ul data-role="media-rich-list"></ul>
<div class="media-expanded empty" data-role="media-preview-expanded">
<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-role="media-preview-expanded-image" alt="Media preview placeholder">
</div>
</div><div class="edit-alert" role="postbox-alert"></div><div class="text-editor-container"><div class="post-actions"><div class="wysiwyg"><div class="gif-picker"><div class="wysiwyg__item" data-role="gif-picker-toggle" title="GIF"><div class="wysiwyg__gif" title="GIF" role="img" aria-label="GIF"></div></div><div class="hidden gif-picker__popout-container" data-role="gif-picker-popout-container"></div><div class="new-feature-badge-star" title="New"><div class="wysiwyg__star-badge wysiwyg__star-badge-dims"></div></div></div><div class="media-uploader"><li class="wysiwyg__item" data-role="media-uploader"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" tabindex="-1" data-action="attach" class="attach" title="Upload Images">
<div class="wysiwyg__attach wysiwyg__attach-dims" role="img" aria-label="A"></div>
</a>
<input type="file" data-role="media-upload" tabindex="-1" accept="image/*">
</li></div><div class="vertical-separator"></div><div data-action="text-editor-buttons"><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="b"><div class="wysiwyg__bold" title="Bold" role="img" aria-label="B"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="i"><div class="wysiwyg__italic" title="Italic" role="img" aria-label="I"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="u"><div class="wysiwyg__underline" title="Underline" role="img" aria-label="U"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="s"><div class="wysiwyg__strikethrough" title="Strikethrough" role="img" aria-label="S"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="a"><div class="wysiwyg__link" title="Link" role="img" aria-label="L"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="spoiler"><div class="wysiwyg__spoiler" title="Spoiler" role="img" aria-label="Sp"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="code"><div class="wysiwyg__code" title="Code" role="img" aria-label="C"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="blockquote"><div class="wysiwyg__blockquote" title="Quote" role="img" aria-label="Q"></div></div></div></div><div class="logged-in"><section><div class="temp-post"><button class="btn post-action__button full-size-button hidden">Post as <span data-role="username"></span></button><button class="btn post-action__button small-size-button hidden">Post</button></div></section></div></div></div></div></div></div><div data-role="login-form"><div><div><section class="auth-section logged-out__display"><div class="connect"><h6>Log in with</h6><ul data-role="login-menu" class="services login-buttons"><li class="auth-disqus"><button type="button" data-action="auth:disqus" title="Disqus" class="connect__button"><i class="icon-disqus"></i></button></li><li class="auth-facebook"><button type="button" data-action="auth:facebook" title="Facebook" class="connect__button"><i class="icon-facebook-circle"></i></button></li><li class="auth-twitter"><button type="button" data-action="auth:twitter" title="Twitter" class="connect__button"><i class="icon-twitter-circle"></i></button></li><li class="auth-google"><button type="button" data-action="auth:google" title="Google" class="connect__button"><i class="icon-google-plus-circle"></i></button></li></ul></div><div class="guest"><h6 class="guest-form-title"><span class="register-text"> or sign up with Disqus </span><span class="guest-text"> or pick a name </span></h6> <div class="help-tooltip__wrapper help-icon" tabindex="0"><div id="rules" class="tooltip show help-tooltip"><h3 class="help-tooltip__heading">Disqus is a discussion network</h3><ul class="help-tooltip__list"><li><span>Disqus never moderates or censors. The rules on this community are its own.</span></li><li><span>Don't be a jerk or do anything illegal. Everything is easier that way.</span></li></ul><p class="clearfix"><a href="https://docs.disqus.com/kb/terms-and-policies/" class="btn btn-small help-tooltip__button" target="_blank">Read full terms and conditions</a></p></div></div><p class="input-wrapper"><input dir="auto" type="text" placeholder="Name" name="display_name" id="view49_display_name" maxlength="30" class="input--text" aria-label="name"></p><div class="guest-details " data-role="guest-details"><p class="input-wrapper"><input dir="auto" type="email" placeholder="Email" name="email" id="view49_email" class="input--text" aria-label="email"></p><p class="input-wrapper"><input dir="auto" disabled="" type="text" class="register-text input--text" placeholder="Password" name="password" aria-label="password" id="view49_password"></p><p><label><span>Please access our <a href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy" target="_blank" rel="noopener noreferrer">Privacy Policy</a> to learn what personal data Disqus collects and your choices about how it is used.  All users of our service are also subject to our <a href="https://help.disqus.com/customer/portal/articles/466260-terms-of-service" target="_blank" rel="noopener noreferrer">Terms of Service</a>.</span></label></p><div class="guest-checkbox"><label><input type="checkbox" name="author-guest"> I'd rather post as a guest</label></div><div class="g-recaptcha" data-role="grecaptcha-container"></div><div class="proceed" data-role="submit-btn-container"><div><button type="submit" class="proceed__button btn submit" aria-label="Post"><span class="icon-proceed"></span><div class="spinner"></div></button><button type="submit" class="proceed__button btn next" aria-label="Next"><span class="icon-proceed"></span><div class="spinner"></div></button></div></div></div></div></section></div></div></div></div></form></div><button class="alert alert--realtime" data-role="realtime-notification" style="display: none;"></button><div id="email-signup"></div><div id="no-posts" style="display: none;"></div><ul id="post-list" class="post-list"><li class="post" id="post-4953745735"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4953745735"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/disqus_v5enrhDF6Y/" data-action="profile" data-username="disqus_v5enrhDF6Y" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="55207387" src="./avatar92.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_v5enrhDF6Y/" data-action="profile" data-username="disqus_v5enrhDF6Y" target="_blank" rel="noopener noreferrer">Вячеслав Кокошко</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4953745735" data-role="relative-time" class="time-ago" title="Sunday, June 14, 2020 7:52 PM">a month ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Great tutorial! Thank you a lot!<br>I've adapted your Angular solution for Vue.js and it works perfectly.<br>However I have a question about storing refresh tokens.<br>Refresh tokens are being added frequently and I fear that after some time in an application with many users there will be thousands of records in DB. Is it a good practice to clear them out when they are expired or revoked?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-1" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">1</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/29xbyo7" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4953745735"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4956005305"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4956005305"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/cornflourblue/" data-action="profile" data-username="cornflourblue" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="22538438" src="./avatar92(1).jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/cornflourblue/" data-action="profile" data-username="cornflourblue" target="_blank" rel="noopener noreferrer">Jason Watmore</a></span> <span class="badge moderator">Mod</span></span><span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4953745735" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Вячеслав Кокошко</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4956005305" data-role="relative-time" class="time-ago" title="Tuesday, June 16, 2020 2:23 PM">a month ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Thanks <a data-dsq-mention="disqus_v5enrhdf6y:disqus" href="https://disqus.com/by/disqus_v5enrhDF6Y/" rel="nofollow noopener" title="https://disqus.com/by/disqus_v5enrhDF6Y/" data-action="profile" data-username="disqus_v5enrhdf6y" class="mention">Вячеслав Кокошко</a></p><p>The refresh tokens are kept for historical and auditing purposes, so depending on your requirements you could keep them indefinitely, clear them out periodically or delete them as soon as they are revoked.</p><p>Regarding the row count in the refresh tokens table, I don't think it would be an issue for the DB server as I'm pretty sure any production level DB (SQL Server, Oracle, MySql etc) can handle many millions of records without a problem. So again it depends on the requirements, DB storage capacity &amp; cost for your project.</p><p>Hope this helps!</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-1" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">1</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/29yoe61" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4956005305"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4956188971"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4956188971"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/disqus_v5enrhDF6Y/" data-action="profile" data-username="disqus_v5enrhDF6Y" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="55207387" src="./avatar92.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_v5enrhDF6Y/" data-action="profile" data-username="disqus_v5enrhDF6Y" target="_blank" rel="noopener noreferrer">Вячеслав Кокошко</a></span> </span><span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4956005305" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Jason Watmore</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4956188971" data-role="relative-time" class="time-ago" title="Tuesday, June 16, 2020 6:39 PM">a month ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Thank you, Jason. Everything is clear now.<br>You're doing a great job with your articles.<br>I wish you all the best!</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-1" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">1</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/29ysbvv" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4956188971"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4956188971-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4956005305-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4953745735-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4992727623"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4992727623"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">V1</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4992727623" data-role="relative-time" class="time-ago" title="Wednesday, July 15, 2020 6:43 PM">3 days ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Nice article, however; when i implement your code i get "Signature Verified" at <a href="https://disq.us/url?url=https%3A%2F%2Fjwt.io%2F%3Abbkc5iggL0b2wFuX8O1nfMSDHvY&amp;cuid=1290967" rel="nofollow noopener" title="https://jwt.io/">https://jwt.io/</a> no matter what signature i type on the website (even blank!) -- what does that mean? did i implmenet this wrong?</p><p>Best regards</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/2akjhaf" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4992727623"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4992727623-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4981555576"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4981555576"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">hi</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4981555576" data-role="relative-time" class="time-ago" title="Monday, July 6, 2020 9:01 PM">12 days ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>I understand that you save the refresh token in cookie for the sake of security. However, you might should try to embed the refresh token together with the claims in the JWT token.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/2adw0vs" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4981555576"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4981555576-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4973468975"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4973468975"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/disqus_EHt27fRoK6/" data-action="profile" data-username="disqus_EHt27fRoK6" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="352242246" src="./noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_EHt27fRoK6/" data-action="profile" data-username="disqus_EHt27fRoK6" target="_blank" rel="noopener noreferrer">Lorenzo</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4973468975" data-role="relative-time" class="time-ago" title="Tuesday, June 30, 2020 5:09 AM">18 days ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Excellent article, few are so well explained like this. <br>I have a question related to the refresh tokens storage. I see that they are stored as a property of users, Entity Framework most likely would crate a new child table called RefreshTokens. Anyone with access to the database could read these and call the service RefreshToken receiving a new refresh token; the only requirement is the former refresh token to get the new one, resulting in transferring the power to who knows who and full access to operate in the name of the referenced user. It feels like storing hard-coded passwords, which is discouraged. EF saves Password Hashes and Security Stamp instead. Notice that the normal token (not the refresh token) is very short living and still managed in a (allegedly) secure way by JwtSecurityTokenHandler class and native functions, using sophisticated ways to protect the generation and encryption, like SecurityTokenDescriptor. But the RefreshToken, which lives longer and transfer the full power to the bearer calling, seems to be much more exposed. Even a bug in the code could deliver this token inadverently, although it has the JsonIgnore attribute, it does not prevent from other mistakes like copying between models to entities or so. Isn't there a way to implement the RefreshToken persistence using the same JwtSecurityTokenHandler class or alike? Thanks for commenting.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/2a92p7z" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4973468975"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4973468975-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4970939438"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4970939438"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/danieldaey/" data-action="profile" data-username="danieldaey" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="352056439" src="./avatar92(2).jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/danieldaey/" data-action="profile" data-username="danieldaey" target="_blank" rel="noopener noreferrer">Daniel Daey</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4970939438" data-role="relative-time" class="time-ago" title="Sunday, June 28, 2020 2:54 AM">20 days ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Great article.. Very good, thank your for sharing</p><p>if you use with SQLITE you probably need to add this on DataContext.cs (I did)</p><p><code>       <br><br>       public DbSet&lt;user&gt; Users { get; set; }<br>        protected override void OnModelCreating(ModelBuilder modelBuilder)<br>        {<br>           modelBuilder.Entity&lt;user&gt;().OwnsMany(p =&gt; p.RefreshTokens, a =&gt;<br>                {<br>                    a.WithOwner().HasForeignKey("UserId");<br>                    a.Property&lt;int&gt;("Id");<br>                    a.HasKey("Id");<br>                });<br>        }<br><br></code></p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/2a7khf2" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4970939438"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4972264745"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4972264745"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/cornflourblue/" data-action="profile" data-username="cornflourblue" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="22538438" src="./avatar92(1).jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/cornflourblue/" data-action="profile" data-username="cornflourblue" target="_blank" rel="noopener noreferrer">Jason Watmore</a></span> <span class="badge moderator">Mod</span></span><span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4970939438" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Daniel Daey</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4972264745" data-role="relative-time" class="time-ago" title="Monday, June 29, 2020 6:48 AM">19 days ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi Daniel, that's funny I just ran into the same issue a few days ago working on another example that uses SQLite, it looks like EF Core creates a composite primary key in the database for "Owned" entity types which can cause errors with auto generated id fields.</p><p>It turns out there are a couple of ways to fix it, either with the fluent api as you've shown, or by using attributes on the entity like this:</p><p></p><pre><code class="hljs cs">[Owned]<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">RefreshToken</span><br>{<br>    [Key]<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<br>    ...<br>}</code></pre><p></p><p>I ended up going with attributes just because it required a bit less code. I've just updated the example and github repo so it should be compatible with SQLite now.</p><p>Cheers,<br>Jason</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/2a8cw15" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4972264745"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4972576352"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4972576352"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/danieldaey/" data-action="profile" data-username="danieldaey" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="352056439" src="./noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/danieldaey/" data-action="profile" data-username="danieldaey" target="_blank" rel="noopener noreferrer">Daniel Daey</a></span> </span><span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4972264745" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Jason Watmore</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4972576352" data-role="relative-time" class="time-ago" title="Monday, June 29, 2020 3:52 PM">19 days ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Great Jason.. i was unable to use [Key] attribute (that was my first attempt to). <br>It seems the autoincrement didnt work in my case..  NULL on Id everytime a token was generated .. I will double check with your github</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-1" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">1</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/2a8jkgw" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4972576352"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4972576352-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4972264745-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4970939438-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4961687795"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4961687795"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/Robinskin/" data-action="profile" data-username="Robinskin" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="351698885" src="./noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/Robinskin/" data-action="profile" data-username="Robinskin" target="_blank" rel="noopener noreferrer">Robinskin Encarnacion</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4961687795" data-role="relative-time" class="time-ago" title="Saturday, June 20, 2020 11:27 PM">a month ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hello <a data-dsq-mention="cornflourblue:disqus" href="https://disqus.com/by/cornflourblue/" rel="nofollow noopener" title="https://disqus.com/by/cornflourblue/" data-action="profile" data-username="cornflourblue" class="mention">Jason Watmore</a> , could you enlighten me in case of real life what would the methods: "revoke-token" and "refresh-token" be used for? Thanks in advance.</p><p>Regards.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/2a226sz" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4961687795"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4964837347"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4964837347"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/cornflourblue/" data-action="profile" data-username="cornflourblue" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="22538438" src="./noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/cornflourblue/" data-action="profile" data-username="cornflourblue" target="_blank" rel="noopener noreferrer">Jason Watmore</a></span> <span class="badge moderator">Mod</span></span><span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4961687795" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Robinskin Encarnacion</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4964837347" data-role="relative-time" class="time-ago" title="Tuesday, June 23, 2020 1:59 PM">25 days ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi Robinskin, each JWT is short-lived (15 minutes in the example) for increased security in case a token is compromised because JWTs are self contained and can access the API as long as they are valid and not expired.</p><p>A refresh token is used to get a new JWT token (a.k.a. 'refresh' the JWT) when it expires, this is handled automatically by front-end applications to keep the user logged in.</p><p>When a refresh token is revoked it can no longer be used to get new JWT tokens, effectively logging the user out (once the last JWT expires).</p><p>Cheers,<br>Jason</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-1" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">1</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/2a3xp0j" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4964837347"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4964936417"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4964936417"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/Robinskin/" data-action="profile" data-username="Robinskin" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="351698885" src="./noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/Robinskin/" data-action="profile" data-username="Robinskin" target="_blank" rel="noopener noreferrer">Robinskin Encarnacion</a></span> </span><span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4964837347" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Jason Watmore</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4964936417" data-role="relative-time" class="time-ago" title="Tuesday, June 23, 2020 4:45 PM">25 days ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Thanks, then it means that when the update token expires, in this case 7 days according to the example, the update token is automatically revoked?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/2a3ztgh" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4964936417"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4965919594"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4965919594"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/cornflourblue/" data-action="profile" data-username="cornflourblue" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="22538438" src="./noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/cornflourblue/" data-action="profile" data-username="cornflourblue" target="_blank" rel="noopener noreferrer">Jason Watmore</a></span> <span class="badge moderator">Mod</span></span><span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4964936417" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Robinskin Encarnacion</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4965919594" data-role="relative-time" class="time-ago" title="Wednesday, June 24, 2020 6:57 AM">24 days ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>No worries, yep that's right the refresh token in the example expires after 7 days, it can obviously be adjusted to suit your requirements though.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-1" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">1</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/2a4kw2y" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4965919594"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4965919594-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4964936417-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4964837347-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4961687795-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4928723969"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4928723969"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/insomniacRealist/" data-action="profile" data-username="insomniacRealist" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="71518676" src="./noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/insomniacRealist/" data-action="profile" data-username="insomniacRealist" target="_blank" rel="noopener noreferrer">Insomniac Realist</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://jasonwatmore.com/post/2020/05/25/aspnet-core-3-api-jwt-authentication-with-refresh-tokens#comment-4928723969" data-role="relative-time" class="time-ago" title="Wednesday, May 27, 2020 4:10 AM">2 months ago</a> <span><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <span class="has-edit" data-role="has-edit">edited</span></span></span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>I want to implement a role based jwt, where admins can only be created via UI of the application, external REST call with admin credentials can create basic level users and admin and basic users can performs some CRUD operations. Can you please guide me on how can I apply this principle to my problem?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/29ifnr5" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4928723969"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4928723969-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="load-more" data-role="more" style="display: none;"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" data-action="more-posts" class="btn load-more__button">Load more comments</a></div></div></section><div id="placement-bottom" data-tracking-area="discovery-south"></div><div id="footer" data-tracking-area="footer" class="disqus-footer__wrapper"><ul class="disqus-footer"><li class="disqus-footer__logo"><a href="https://disqus.com/" rel="nofollow" title="Powered by Disqus" class="disqus-footer__link">Powered by Disqus</a></li><li id="thread-subscribe-button" class="email disqus-footer__item"><div class="default"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jasonwatmoresblog&amp;t_u=http%3A%2F%2Fjasonwatmore.com%2Fpost.aspx%3Fid%3D5ecb9023fceb9316d27ad8f6&amp;t_e=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;t_d=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens&amp;t_t=ASP.NET%20Core%203.1%20API%20-%20JWT%20Authentication%20with%20Refresh%20Tokens%20%7C%20Jason%20Watmore%27s%20Blog&amp;s_o=default#" rel="nofollow" data-action="subscribe" title="Subscribe and get email updates from this discussion" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-mail"></i><span class="clip">Subscribe</span><i aria-hidden="true" class="icon icon-checkmark"></i></a></div></li><li class="install disqus-footer__item"><a href="https://publishers.disqus.com/engage?utm_source=jasonwatmoresblog&amp;utm_medium=Disqus-Footer" rel="nofollow noopener noreferrer" target="_blank" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-disqus"></i><span class="clip hidden-md">Add Disqus to your site</span><span class="clip visible-md hidden-xs">Add Disqus</span><span class="clip visible-xs">Add</span></a></li><li class="do-not-sell disqus-footer__item"><a href="https://disqus.com/data-sharing-settings/" rel="nofollow noopener noreferrer" target="_blank" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-warning"></i><span class="clip">Do Not Sell My Data</span></a></li></ul></div></div></div></div></div><iframe id="ssIFrame_google" sandbox="allow-scripts allow-same-origin" aria-hidden="true" frame-border="0" src="./iframe.html" style="position: absolute; width: 1px; height: 1px; left: -9999px; top: -9999px; right: -9999px; bottom: -9999px; display: none;"></iframe><div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; width: 0px; height: 0px;"><div></div></div></div><iframe src="./pixel(2).html" style="display: none;"></iframe><img src="./saved_resource" style="display: none;"><iframe src="./sync.html" style="display: none;"></iframe></body></html>